(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{493:function(s,a,n){"use strict";n.r(a);var t=n(4),e=Object(t.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"nginx的安装步骤"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#nginx的安装步骤"}},[s._v("#")]),s._v(" nginx的安装步骤")]),s._v(" "),n("h2",{attrs:{id:"概述"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#概述"}},[s._v("#")]),s._v(" 概述")]),s._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[s._v("在Centos下，yum源不提供nginx的安装，可以通过切换yum源的方法获取安装。也可以通过直接下载安装包的方法，\n**以下命令均需root权限执行**：\n首先安装必要的库（nginx 中gzip模块需要 zlib 库，rewrite模块需要 pcre 库，ssl 功能需要openssl库）。选定**/usr/local**为安装目录，以下具体版本号根据实际改变。\n")])])]),n("h3",{attrs:{id:"_1-安装gcc-gcc-c"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-安装gcc-gcc-c"}},[s._v("#")]),s._v(" 1. 安装gcc gcc-c++")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# yum install -y gcc gcc-c++")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h3",{attrs:{id:"_2-安装pcre库"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-安装pcre库"}},[s._v("#")]),s._v(" 2. 安装PCRE库")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cd /usr/local/")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# wget http://jaist.dl.sourceforge.net/project/pcre/pcre/8.33/pcre-8.33.tar.gz")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# tar -zxvf pcre-8.33.tar.gz")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cd pcre-8.33")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ./configure")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# make && make install")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("h3",{attrs:{id:"_3-安装ssl库"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-安装ssl库"}},[s._v("#")]),s._v(" 3. 安装SSL库")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cd /usr/local/")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# wget https://www.openssl.org/source/old/1.0.1/openssl-1.0.1j.tar.gz")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# tar -zxvf openssl-1.0.1j.tar.gz")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cd openssl-1.0.1j")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ./config")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# make && make install")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("h3",{attrs:{id:"_4-安装zlib库"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-安装zlib库"}},[s._v("#")]),s._v(" 4. 安装zlib库")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cd /usr/local/")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# wget http://zlib.net/zlib-1.2.11.tar.gz")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# tar -zxvf zlib-1.2.11.tar.gz")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cd zlib-1.2.11")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ./configure")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# make && make install")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("h3",{attrs:{id:"_5-安装nginx-本安装为1-8-0版本"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-安装nginx-本安装为1-8-0版本"}},[s._v("#")]),s._v(" 5.  安装nginx(本安装为1.8.0版本)")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cd /usr/local/")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# wget http://nginx.org/download/nginx-1.8.0.tar.gz")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# tar -zxvf nginx-1.8.0.tar.gz")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cd nginx-1.8.0 ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ./configure --user=nobody --group=nobody --prefix=/usr/local/nginx --with-http_stub_status_module --with-http_gzip_static_module --with-http_realip_module --with-http_sub_module --with-http_ssl_module --with-pcre=/usr/local/pcre-8.33 --with-zlib=/usr/local/zlib-1.2.11")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("注: --with-http_ssl_module:这个不加后面在nginx.conf配置ssl:on后,启动会报nginx: "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("emerg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" unknown directive "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ssl"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" /opt/nginx/conf/nginx.conf 异常"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# make && make install")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("h2",{attrs:{id:"nginx操作命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#nginx操作命令"}},[s._v("#")]),s._v(" nginx操作命令")]),s._v(" "),n("h3",{attrs:{id:"_1-启动nginx服务"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-启动nginx服务"}},[s._v("#")]),s._v(" 1 启动nginx服务")]),s._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",[s._v("或者在当前目录下运行nginx 命令也可以")])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# /usr/local/nginx/sbin/nginx")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h3",{attrs:{id:"_2-重启nginx服务"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-重启nginx服务"}},[s._v("#")]),s._v(" 2 重启nginx服务")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# /usr/local/nginx/sbin/nginx –s reload")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h3",{attrs:{id:"_3-停止nginx服务"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-停止nginx服务"}},[s._v("#")]),s._v(" 3 停止nginx服务")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# /usr/local/nginx/sbin/nginx –s stop")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h3",{attrs:{id:"_4-强制关闭nginx服务"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-强制关闭nginx服务"}},[s._v("#")]),s._v(" 4  强制关闭nginx服务")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# pkill nginx")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])])}),[],!1,null,null,null);a.default=e.exports}}]);